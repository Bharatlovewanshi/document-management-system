{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../core/services/document.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../../shared/components/loader/loader.component\";\nfunction DocumentUploadComponent_p_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.errorMessage, \" \");\n  }\n}\nfunction DocumentUploadComponent_app_loader_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loader\", 13);\n  }\n}\nexport class DocumentUploadComponent {\n  constructor(documentService, router) {\n    this.documentService = documentService;\n    this.router = router;\n    this.title = '';\n    this.description = '';\n    this.tags = '';\n    this.accessLevel = 'PRIVATE';\n    this.file = null;\n    this.isUploading = false;\n    this.errorMessage = '';\n  }\n  onFileChange(event) {\n    const input = event.target;\n    if (input.files && input.files.length > 0) {\n      this.file = input.files[0];\n    }\n  }\n  upload() {\n    console.log(\"Upload1\");\n    if (!this.file || !this.title) {\n      this.errorMessage = 'Title and file are required';\n      return;\n    }\n    console.log(\"Upload2\");\n    const formData = new FormData();\n    formData.append('file', this.file);\n    formData.append('title', this.title);\n    formData.append('description', this.description);\n    formData.append('tags', this.tags);\n    formData.append('accessLevel', this.accessLevel);\n    console.log('Uploading document...', formData);\n    this.isUploading = true;\n    this.documentService.uploadDocument(formData).subscribe({\n      next: () => {\n        this.isUploading = false;\n        this.router.navigate(['/dashboard']);\n      },\n      error: err => {\n        console.error(err);\n        this.isUploading = false;\n        this.errorMessage = 'Upload failed';\n      }\n    });\n  }\n  static {\n    this.ɵfac = function DocumentUploadComponent_Factory(t) {\n      return new (t || DocumentUploadComponent)(i0.ɵɵdirectiveInject(i1.DocumentService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: DocumentUploadComponent,\n      selectors: [[\"app-document-upload\"]],\n      decls: 16,\n      vars: 7,\n      consts: [[1, \"p-6\", \"max-w-xl\", \"mx-auto\"], [3, \"click\"], [\"class\", \"text-red-600 mb-3\", 4, \"ngIf\"], [\"type\", \"text\", \"placeholder\", \"Document Title\", 1, \"border\", \"rounded\", \"px-3\", \"py-2\", \"w-full\", \"mb-3\", 3, \"ngModel\", \"ngModelChange\"], [\"placeholder\", \"Description\", 1, \"border\", \"rounded\", \"px-3\", \"py-2\", \"w-full\", \"mb-3\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"Tags (comma separated)\", 1, \"border\", \"rounded\", \"px-3\", \"py-2\", \"w-full\", \"mb-3\", 3, \"ngModel\", \"ngModelChange\"], [1, \"border\", \"rounded\", \"px-3\", \"py-2\", \"w-full\", \"mb-3\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"PRIVATE\"], [\"value\", \"PUBLIC_VIEW\"], [\"type\", \"file\", 1, \"mb-4\", 3, \"change\"], [\"text\", \"Uploading...\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"bg-blue-600\", \"text-white\", \"px-4\", \"py-2\", \"rounded\", 3, \"disabled\", \"click\"], [1, \"text-red-600\", \"mb-3\"], [\"text\", \"Uploading...\"]],\n      template: function DocumentUploadComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n          i0.ɵɵlistener(\"click\", function DocumentUploadComponent_Template_div_click_1_listener() {\n            return ctx.goToUpload();\n          });\n          i0.ɵɵtext(2, \"Upload Document\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(3, DocumentUploadComponent_p_3_Template, 2, 1, \"p\", 2);\n          i0.ɵɵelementStart(4, \"input\", 3);\n          i0.ɵɵlistener(\"ngModelChange\", function DocumentUploadComponent_Template_input_ngModelChange_4_listener($event) {\n            return ctx.title = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"textarea\", 4);\n          i0.ɵɵlistener(\"ngModelChange\", function DocumentUploadComponent_Template_textarea_ngModelChange_5_listener($event) {\n            return ctx.description = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"input\", 5);\n          i0.ɵɵlistener(\"ngModelChange\", function DocumentUploadComponent_Template_input_ngModelChange_6_listener($event) {\n            return ctx.tags = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"select\", 6);\n          i0.ɵɵlistener(\"ngModelChange\", function DocumentUploadComponent_Template_select_ngModelChange_7_listener($event) {\n            return ctx.accessLevel = $event;\n          });\n          i0.ɵɵelementStart(8, \"option\", 7);\n          i0.ɵɵtext(9, \"Private\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"option\", 8);\n          i0.ɵɵtext(11, \"Public View\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(12, \"input\", 9);\n          i0.ɵɵlistener(\"change\", function DocumentUploadComponent_Template_input_change_12_listener($event) {\n            return ctx.onFileChange($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(13, DocumentUploadComponent_app_loader_13_Template, 1, 0, \"app-loader\", 10);\n          i0.ɵɵelementStart(14, \"button\", 11);\n          i0.ɵɵlistener(\"click\", function DocumentUploadComponent_Template_button_click_14_listener() {\n            return ctx.upload();\n          });\n          i0.ɵɵtext(15, \" Upload \");\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngModel\", ctx.title);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngModel\", ctx.description);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngModel\", ctx.tags);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngModel\", ctx.accessLevel);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", ctx.isUploading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"disabled\", ctx.isUploading);\n        }\n      },\n      dependencies: [i3.NgIf, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgModel, i5.LoaderComponent],\n      styles: [\"/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJkb2N1bWVudC11cGxvYWQuY29tcG9uZW50LmNzcyJ9 */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZGFzaGJvYXJkL2RvY3VtZW50LXVwbG9hZC9kb2N1bWVudC11cGxvYWQuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0EsNEtBQTRLIiwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r0","errorMessage","ɵɵelement","DocumentUploadComponent","constructor","documentService","router","title","description","tags","accessLevel","file","isUploading","onFileChange","event","input","target","files","length","upload","console","log","formData","FormData","append","uploadDocument","subscribe","next","navigate","error","err","ɵɵdirectiveInject","i1","DocumentService","i2","Router","selectors","decls","vars","consts","template","DocumentUploadComponent_Template","rf","ctx","ɵɵlistener","DocumentUploadComponent_Template_div_click_1_listener","goToUpload","ɵɵtemplate","DocumentUploadComponent_p_3_Template","DocumentUploadComponent_Template_input_ngModelChange_4_listener","$event","DocumentUploadComponent_Template_textarea_ngModelChange_5_listener","DocumentUploadComponent_Template_input_ngModelChange_6_listener","DocumentUploadComponent_Template_select_ngModelChange_7_listener","DocumentUploadComponent_Template_input_change_12_listener","DocumentUploadComponent_app_loader_13_Template","DocumentUploadComponent_Template_button_click_14_listener","ɵɵproperty"],"sources":["C:\\Users\\Bharat Singh\\Desktop\\companies\\Smartwinnr\\Document Management System\\client\\src\\app\\dashboard\\document-upload\\document-upload.component.ts","C:\\Users\\Bharat Singh\\Desktop\\companies\\Smartwinnr\\Document Management System\\client\\src\\app\\dashboard\\document-upload\\document-upload.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { DocumentService } from '../../core/services/document.service';\r\nimport { Router } from '@angular/router';\r\n\r\n\r\n@Component({\r\n  selector: 'app-document-upload',\r\n  templateUrl: './document-upload.component.html',\r\n  styleUrls: ['./document-upload.component.css']\r\n})\r\nexport class DocumentUploadComponent {\r\n\r\n  title = '';\r\n  description = '';\r\n  tags = '';\r\n  accessLevel = 'PRIVATE';\r\n  file: File | null = null;\r\n\r\n  isUploading = false;\r\n  errorMessage = '';\r\n  \r\n  constructor(private documentService: DocumentService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  onFileChange(event: Event): void {\r\n    const input = event.target as HTMLInputElement;\r\n    if (input.files && input.files.length > 0) {\r\n      this.file = input.files[0];\r\n    }\r\n  }\r\n\r\n  upload(): void {\r\n    console.log(\"Upload1\");\r\n    if (!this.file || !this.title) {\r\n      this.errorMessage = 'Title and file are required';\r\n      return;\r\n    }\r\n    console.log(\"Upload2\");\r\n    const formData = new FormData();\r\n    formData.append('file', this.file);\r\n    formData.append('title', this.title);\r\n    formData.append('description', this.description);\r\n    formData.append('tags', this.tags);\r\n    formData.append('accessLevel', this.accessLevel);\r\n\r\n    console.log('Uploading document...', formData);\r\n\r\n    this.isUploading = true;\r\n\r\n    this.documentService.uploadDocument(formData).subscribe({\r\n      next: () => {\r\n        this.isUploading = false;\r\n        this.router.navigate(['/dashboard']);\r\n      },\r\n      error: (err) => {\r\n        console.error(err);\r\n        this.isUploading = false;\r\n        this.errorMessage = 'Upload failed';\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n","<div class=\"p-6 max-w-xl mx-auto\">\r\n\r\n  <div (click)=\"goToUpload()\">Upload Document</div>\r\n\r\n\r\n  <!-- Error -->\r\n  <p *ngIf=\"errorMessage\" class=\"text-red-600 mb-3\">\r\n    {{ errorMessage }}\r\n  </p>\r\n\r\n  <!-- Title -->\r\n  <input\r\n    type=\"text\"\r\n    placeholder=\"Document Title\"\r\n    [(ngModel)]=\"title\"\r\n    class=\"border rounded px-3 py-2 w-full mb-3\"\r\n  />\r\n\r\n  <!-- Description -->\r\n  <textarea\r\n    placeholder=\"Description\"\r\n    [(ngModel)]=\"description\"\r\n    class=\"border rounded px-3 py-2 w-full mb-3\"\r\n  ></textarea>\r\n\r\n  <!-- Tags -->\r\n  <input\r\n    type=\"text\"\r\n    placeholder=\"Tags (comma separated)\"\r\n    [(ngModel)]=\"tags\"\r\n    class=\"border rounded px-3 py-2 w-full mb-3\"\r\n  />\r\n\r\n  <!-- Access Level -->\r\n  <select\r\n    [(ngModel)]=\"accessLevel\"\r\n    class=\"border rounded px-3 py-2 w-full mb-3\"\r\n  >\r\n    <option value=\"PRIVATE\">Private</option>\r\n    <option value=\"PUBLIC_VIEW\">Public View</option>\r\n  </select>\r\n\r\n  <!-- File -->\r\n  <input\r\n    type=\"file\"\r\n    (change)=\"onFileChange($event)\"\r\n    class=\"mb-4\"\r\n  />\r\n\r\n  <!-- Loader -->\r\n  <app-loader *ngIf=\"isUploading\" text=\"Uploading...\"></app-loader>\r\n\r\n  <!-- Submit -->\r\n  <button\r\n    type=\"button\"\r\n    (click)=\"upload()\"\r\n    [disabled]=\"isUploading\"\r\n    class=\"bg-blue-600 text-white px-4 py-2 rounded\"\r\n  >\r\n    Upload\r\n  </button>\r\n\r\n</div>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}