{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../core/services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction LoginComponent_p_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.errorMessage, \" \");\n  }\n}\nfunction LoginComponent_app_loader_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loader\", 9);\n  }\n}\nexport class LoginComponent {\n  constructor(authService, router, route) {\n    this.authService = authService;\n    this.router = router;\n    this.route = route;\n    this.email = '';\n    this.password = '';\n    this.errorMessage = '';\n    this.isLoading = false;\n  }\n  login() {\n    if (!this.email || !this.password) {\n      this.errorMessage = 'Email and password are required.';\n      return;\n    }\n    this.isLoading = true;\n    this.errorMessage = '';\n    this.authService.login({\n      email: this.email,\n      password: this.password\n    }).subscribe({\n      next: () => {\n        this.isLoading = false;\n        // Redirect to requested page or dashboard\n        const returnUrl = this.route.snapshot.queryParamMap.get('returnUrl') || '/dashboard';\n        this.router.navigateByUrl(returnUrl);\n      },\n      error: err => {\n        this.isLoading = false;\n        this.errorMessage = err?.error?.message || 'Invalid email or password.';\n      }\n    });\n  }\n  static {\n    this.ɵfac = function LoginComponent_Factory(t) {\n      return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LoginComponent,\n      selectors: [[\"app-login\"]],\n      decls: 10,\n      vars: 5,\n      consts: [[1, \"min-h-screen\", \"flex\", \"items-center\", \"justify-center\", \"bg-gray-100\"], [1, \"bg-white\", \"p-6\", \"rounded\", \"shadow\", \"w-full\", \"max-w-sm\"], [1, \"text-2xl\", \"font-bold\", \"mb-6\", \"text-center\"], [\"class\", \"text-red-600 mb-3 text-sm\", 4, \"ngIf\"], [\"type\", \"email\", \"placeholder\", \"Email\", 1, \"border\", \"rounded\", \"px-3\", \"py-2\", \"w-full\", \"mb-3\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"placeholder\", \"Password\", 1, \"border\", \"rounded\", \"px-3\", \"py-2\", \"w-full\", \"mb-4\", 3, \"ngModel\", \"ngModelChange\"], [\"text\", \"Logging in...\", 4, \"ngIf\"], [1, \"w-full\", \"bg-blue-600\", \"text-white\", \"py-2\", \"rounded\", \"hover:bg-blue-700\", \"disabled:opacity-50\", 3, \"disabled\", \"click\"], [1, \"text-red-600\", \"mb-3\", \"text-sm\"], [\"text\", \"Logging in...\"]],\n      template: function LoginComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\", 2);\n          i0.ɵɵtext(3, \" Login \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(4, LoginComponent_p_4_Template, 2, 1, \"p\", 3);\n          i0.ɵɵelementStart(5, \"input\", 4);\n          i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_5_listener($event) {\n            return ctx.email = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"input\", 5);\n          i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_6_listener($event) {\n            return ctx.password = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(7, LoginComponent_app_loader_7_Template, 1, 0, \"app-loader\", 6);\n          i0.ɵɵelementStart(8, \"button\", 7);\n          i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_8_listener() {\n            return ctx.login();\n          });\n          i0.ɵɵtext(9, \" Login \");\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngModel\", ctx.email);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngModel\", ctx.password);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"disabled\", ctx.isLoading);\n        }\n      },\n      dependencies: [i3.NgIf, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel],\n      styles: [\"/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsb2dpbi5jb21wb25lbnQuY3NzIn0= */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYXV0aC9sb2dpbi9sb2dpbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSxnS0FBZ0siLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r0","errorMessage","ɵɵelement","LoginComponent","constructor","authService","router","route","email","password","isLoading","login","subscribe","next","returnUrl","snapshot","queryParamMap","get","navigateByUrl","error","err","message","ɵɵdirectiveInject","i1","AuthService","i2","Router","ActivatedRoute","selectors","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵtemplate","LoginComponent_p_4_Template","ɵɵlistener","LoginComponent_Template_input_ngModelChange_5_listener","$event","LoginComponent_Template_input_ngModelChange_6_listener","LoginComponent_app_loader_7_Template","LoginComponent_Template_button_click_8_listener","ɵɵproperty"],"sources":["C:\\Users\\Bharat Singh\\Desktop\\companies\\Smartwinnr\\Document Management System\\client\\src\\app\\auth\\login\\login.component.ts","C:\\Users\\Bharat Singh\\Desktop\\companies\\Smartwinnr\\Document Management System\\client\\src\\app\\auth\\login\\login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { AuthService } from '../../core/services/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent {\r\n\r\n  email = '';\r\n  password = '';\r\n  errorMessage = '';\r\n  isLoading = false;\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    private router: Router,\r\n    private route: ActivatedRoute\r\n  ) {}\r\n\r\n  login(): void {\r\n    if (!this.email || !this.password) {\r\n      this.errorMessage = 'Email and password are required.';\r\n      return;\r\n    }\r\n\r\n    this.isLoading = true;\r\n    this.errorMessage = '';\r\n\r\n    this.authService.login({\r\n      email: this.email,\r\n      password: this.password\r\n    }).subscribe({\r\n      next: () => {\r\n        this.isLoading = false;\r\n\r\n        // Redirect to requested page or dashboard\r\n        const returnUrl =\r\n          this.route.snapshot.queryParamMap.get('returnUrl') || '/dashboard';\r\n\r\n        this.router.navigateByUrl(returnUrl);\r\n      },\r\n      error: (err) => {\r\n        this.isLoading = false;\r\n        this.errorMessage =\r\n          err?.error?.message || 'Invalid email or password.';\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div class=\"min-h-screen flex items-center justify-center bg-gray-100\">\r\n\r\n  <div class=\"bg-white p-6 rounded shadow w-full max-w-sm\">\r\n\r\n    <h2 class=\"text-2xl font-bold mb-6 text-center\">\r\n      Login\r\n    </h2>\r\n\r\n    <!-- Error -->\r\n    <p *ngIf=\"errorMessage\" class=\"text-red-600 mb-3 text-sm\">\r\n      {{ errorMessage }}\r\n    </p>\r\n\r\n    <!-- Email -->\r\n    <input\r\n      type=\"email\"\r\n      placeholder=\"Email\"\r\n      [(ngModel)]=\"email\"\r\n      class=\"border rounded px-3 py-2 w-full mb-3\"\r\n    />\r\n\r\n    <!-- Password -->\r\n    <input\r\n      type=\"password\"\r\n      placeholder=\"Password\"\r\n      [(ngModel)]=\"password\"\r\n      class=\"border rounded px-3 py-2 w-full mb-4\"\r\n    />\r\n\r\n    <!-- Loader -->\r\n    <app-loader *ngIf=\"isLoading\" text=\"Logging in...\"></app-loader>\r\n\r\n    <!-- Submit -->\r\n    <button\r\n      (click)=\"login()\"\r\n      [disabled]=\"isLoading\"\r\n      class=\"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 disabled:opacity-50\"\r\n    >\r\n      Login\r\n    </button>\r\n\r\n  </div>\r\n</div>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}