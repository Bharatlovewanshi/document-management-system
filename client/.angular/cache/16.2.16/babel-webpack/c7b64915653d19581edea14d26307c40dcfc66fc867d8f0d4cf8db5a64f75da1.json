{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let DocumentUploadComponent = class DocumentUploadComponent {\n  constructor(documentService, rout) {\n    this.documentService = documentService;\n    this.rout = rout;\n    this.title = '';\n    this.description = '';\n    this.tags = '';\n    this.accessLevel = 'PRIVATE';\n    this.file = null;\n    this.isUploading = false;\n    this.errorMessage = '';\n  }\n  onFileChange(event) {\n    const input = event.target;\n    if (input.files && input.files.length > 0) {\n      this.file = input.files[0];\n    }\n  }\n  upload() {\n    if (!this.file || !this.title) {\n      this.errorMessage = 'Title and file are required';\n      return;\n    }\n    const formData = new FormData();\n    formData.append('file', this.file);\n    formData.append('title', this.title);\n    formData.append('description', this.description);\n    formData.append('tags', this.tags);\n    formData.append('accessLevel', this.accessLevel);\n    console.log('Uploading document...', formData);\n    this.isUploading = true;\n    this.documentService.uploadDocument(formData).subscribe({\n      next: () => {\n        this.isUploading = false;\n        this.router.navigate(['/dashboard']);\n      },\n      error: err => {\n        console.error(err);\n        this.isUploading = false;\n        this.errorMessage = 'Upload failed';\n      }\n    });\n  }\n};\nDocumentUploadComponent = __decorate([Component({\n  selector: 'app-document-upload',\n  templateUrl: './document-upload.component.html',\n  styleUrls: ['./document-upload.component.css']\n})], DocumentUploadComponent);","map":{"version":3,"names":["Component","DocumentUploadComponent","constructor","documentService","rout","title","description","tags","accessLevel","file","isUploading","errorMessage","onFileChange","event","input","target","files","length","upload","formData","FormData","append","console","log","uploadDocument","subscribe","next","router","navigate","error","err","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Bharat Singh\\Desktop\\companies\\Smartwinnr\\Document Management System\\client\\src\\app\\dashboard\\document-upload\\document-upload.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { DocumentService } from '../../core/services/document.service';\r\nimport { Router } from '@angular/router';\r\n\r\n\r\n@Component({\r\n  selector: 'app-document-upload',\r\n  templateUrl: './document-upload.component.html',\r\n  styleUrls: ['./document-upload.component.css']\r\n})\r\nexport class DocumentUploadComponent {\r\n\r\n  title = '';\r\n  description = '';\r\n  tags = '';\r\n  accessLevel = 'PRIVATE';\r\n  file: File | null = null;\r\n\r\n  isUploading = false;\r\n  errorMessage = '';\r\n\r\n  constructor(private documentService: DocumentService,\r\n    private rout\r\n  ) {}\r\n\r\n  onFileChange(event: Event): void {\r\n    const input = event.target as HTMLInputElement;\r\n    if (input.files && input.files.length > 0) {\r\n      this.file = input.files[0];\r\n    }\r\n  }\r\n\r\n  upload(): void {\r\n    if (!this.file || !this.title) {\r\n      this.errorMessage = 'Title and file are required';\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append('file', this.file);\r\n    formData.append('title', this.title);\r\n    formData.append('description', this.description);\r\n    formData.append('tags', this.tags);\r\n    formData.append('accessLevel', this.accessLevel);\r\n\r\n    console.log('Uploading document...', formData);\r\n\r\n    this.isUploading = true;\r\n\r\n    this.documentService.uploadDocument(formData).subscribe({\r\n      next: () => {\r\n        this.isUploading = false;\r\n        this.router.navigate(['/dashboard']);\r\n      },\r\n      error: (err) => {\r\n        console.error(err);\r\n        this.isUploading = false;\r\n        this.errorMessage = 'Upload failed';\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAUlC,WAAMC,uBAAuB,GAA7B,MAAMA,uBAAuB;EAWlCC,YAAoBC,eAAgC,EAC1CC,IAAI;IADM,KAAAD,eAAe,GAAfA,eAAe;IACzB,KAAAC,IAAI,GAAJA,IAAI;IAVd,KAAAC,KAAK,GAAG,EAAE;IACV,KAAAC,WAAW,GAAG,EAAE;IAChB,KAAAC,IAAI,GAAG,EAAE;IACT,KAAAC,WAAW,GAAG,SAAS;IACvB,KAAAC,IAAI,GAAgB,IAAI;IAExB,KAAAC,WAAW,GAAG,KAAK;IACnB,KAAAC,YAAY,GAAG,EAAE;EAId;EAEHC,YAAYA,CAACC,KAAY;IACvB,MAAMC,KAAK,GAAGD,KAAK,CAACE,MAA0B;IAC9C,IAAID,KAAK,CAACE,KAAK,IAAIF,KAAK,CAACE,KAAK,CAACC,MAAM,GAAG,CAAC,EAAE;MACzC,IAAI,CAACR,IAAI,GAAGK,KAAK,CAACE,KAAK,CAAC,CAAC,CAAC;;EAE9B;EAEAE,MAAMA,CAAA;IACJ,IAAI,CAAC,IAAI,CAACT,IAAI,IAAI,CAAC,IAAI,CAACJ,KAAK,EAAE;MAC7B,IAAI,CAACM,YAAY,GAAG,6BAA6B;MACjD;;IAGF,MAAMQ,QAAQ,GAAG,IAAIC,QAAQ,EAAE;IAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,IAAI,CAACZ,IAAI,CAAC;IAClCU,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAAChB,KAAK,CAAC;IACpCc,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAE,IAAI,CAACf,WAAW,CAAC;IAChDa,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,IAAI,CAACd,IAAI,CAAC;IAClCY,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAE,IAAI,CAACb,WAAW,CAAC;IAEhDc,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEJ,QAAQ,CAAC;IAE9C,IAAI,CAACT,WAAW,GAAG,IAAI;IAEvB,IAAI,CAACP,eAAe,CAACqB,cAAc,CAACL,QAAQ,CAAC,CAACM,SAAS,CAAC;MACtDC,IAAI,EAAEA,CAAA,KAAK;QACT,IAAI,CAAChB,WAAW,GAAG,KAAK;QACxB,IAAI,CAACiB,MAAM,CAACC,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC;MACtC,CAAC;MACDC,KAAK,EAAGC,GAAG,IAAI;QACbR,OAAO,CAACO,KAAK,CAACC,GAAG,CAAC;QAClB,IAAI,CAACpB,WAAW,GAAG,KAAK;QACxB,IAAI,CAACC,YAAY,GAAG,eAAe;MACrC;KACD,CAAC;EACJ;CAED;AApDYV,uBAAuB,GAAA8B,UAAA,EALnC/B,SAAS,CAAC;EACTgC,QAAQ,EAAE,qBAAqB;EAC/BC,WAAW,EAAE,kCAAkC;EAC/CC,SAAS,EAAE,CAAC,iCAAiC;CAC9C,CAAC,C,EACWjC,uBAAuB,CAoDnC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}