<div class="p-6">

  <h2 class="text-2xl font-bold mb-4">Version History</h2>

  <!-- Loader -->
  <app-loader *ngIf="isLoading"></app-loader>

  <!-- Versions -->
  <div *ngIf="!isLoading && versions.length > 0" class="space-y-3">

    <div
      *ngFor="let v of versions"
      class="border rounded p-4 bg-white shadow-sm flex justify-between items-center"
    >
      <div>
        <p class="font-semibold">
          Version {{ v.version }}
        </p>

        <p class="text-sm text-gray-500">
          Edited by {{ v.editedBy?.name || 'Unknown' }}
          · {{ v.createdAt | date:'medium' }}
        </p>

        <p class="text-sm text-gray-600 mt-1">
          {{ v.changeNote || 'No change note provided.' }}
        </p>
      </div>

      <button
        (click)="restore(v.version)"
        [disabled]="restoringVersion === v.version"
        class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50"
      >
        Restore
      </button>
    </div>

  </div>

  <!-- Empty state -->
  <div *ngIf="!isLoading && versions.length === 0" class="text-gray-500 mt-6">
    No version history available.
  </div>

  <!-- Back -->
  <div class="mt-6">
  <button
    (click)="goBack()"
    class="text-blue-600 hover:underline"
  >
    ← Back to Document
  </button>
</div>


</div>
