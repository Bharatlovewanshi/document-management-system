<div class="p-6">

  <h2 class="text-2xl font-bold mb-4">Documents</h2>

  <!-- Search -->
  <input
    type="text"
    [(ngModel)]="searchText"
    placeholder="Search documents..."
    class="border rounded px-3 py-2 w-full mb-4"
  />

  <!-- Loader -->
  <app-loader *ngIf="isLoading"></app-loader>

  <!-- Document List -->
  <div *ngIf="!isLoading && documents.length > 0" class="space-y-3">

    <div
      *ngFor="let doc of documents"
      class="border rounded p-4 bg-white shadow-sm flex justify-between items-center"
    >
      <div>
        <h3
          class="font-semibold"
        >{{ doc.title }}</h3>

        <p class="text-sm text-gray-500">
          Version {{ doc.currentVersion }} Â· {{ doc.fileType }}
        </p>

        <div class="flex flex-wrap gap-2 mt-2">
          <span
            *ngFor="let tag of doc.tags"
            class="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded"
          >
            {{ tag }}
          </span>
        </div>
      </div>

      <!-- Actions -->
      <div class="flex gap-2">
        <a
          [href]="doc.fileUrl.replace('/image/upload/', '/image/upload/fl_attachment/')"
          target="_blank"
          class="px-3 py-1 bg-gray-200 rounded text-sm"
        >
          View
        </a>

        <button
          *ngIf="canEdit(doc)"
          class="px-3 py-1 bg-blue-600 text-white rounded text-sm"
        >
          Edit
        </button>
      </div>
    </div>

  </div>

  <!-- Empty State -->
  <div *ngIf="!isLoading && documents.length === 0" class="text-gray-500 mt-6">
    No documents found.
  </div>

</div>
